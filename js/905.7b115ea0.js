"use strict";(self["webpackChunkoficina_vue"]=self["webpackChunkoficina_vue"]||[]).push([[905],{7661:function(a,t,s){s.d(t,{Z:function(){return C}});var l=s(3396),e=s(7139),o=s.p+"img/menu.514afb07.svg",i=s(5860),n=s(2157);const c=a=>((0,l.dD)("data-v-1ba8b8ae"),a=a(),(0,l.Cn)(),a),r=c((()=>(0,l._)("button",{type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasScrolling","aria-controls":"offcanvasScrolling"},[(0,l._)("img",{class:"svg",src:o,alt:""})],-1))),d={class:"offcanvas offcanvas-start","daa-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel"},u=(0,l.uE)('<div class="offcanvas-header" data-v-1ba8b8ae><h5 class="offcanvas-title" id="offcanvasScrollingLabel" data-v-1ba8b8ae><img class="logo" src="https://github.com/PabloBaronIT/frontend-oficina-virtual/blob/main/src/assets/muni-en-linea-logo.png?raw=true" alt="Logo" data-v-1ba8b8ae></h5><button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close" data-v-1ba8b8ae><img class="svg" src="'+i+'" alt="" data-v-1ba8b8ae></button></div>',1),g={class:"offcanvas-body body-container"},h={class:"usuario"},v=c((()=>(0,l._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"86",height:"86",fill:"currentColor",class:"bi bi-person-circle scale-up-center",viewBox:"0 0 16 16"},[(0,l._)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),(0,l._)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1))),f={class:"usuario-details"},m={class:"datos"},p=c((()=>(0,l._)("a",{href:""},[(0,l._)("img",{class:"svg",src:n,alt:"comunicaciones"})],-1))),b=c((()=>(0,l._)("br",null,null,-1))),_=c((()=>(0,l._)("br",null,null,-1))),w=c((()=>(0,l._)("div",{class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1","aria-labelledby":"offcanvasScrollingLabel"},[(0,l._)("div",{class:"offcanvas-header"},[(0,l._)("h5",{class:"offcanvas-title",id:"offcanvas"}," Offcanvas with body scrolling "),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})])],-1)));function k(a,t,s,o,i,n){const c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[r,(0,l._)("div",d,[u,(0,l._)("div",g,[(0,l._)("div",h,[v,(0,l._)("div",f,[(0,l._)("div",m,[(0,l.Wm)(c,{to:"/micuenta"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Mi cuenta ")])),_:1}),(0,l.Wm)(c,{to:"/comunicaciones"},{default:(0,l.w5)((()=>[p])),_:1})]),(0,l._)("strong",null,[(0,l.Uk)((0,e.zw)(this.usuario)+",",1),b,(0,l.Uk)(" "+(0,e.zw)(this.apellido),1),_]),(0,l._)("p",null,"CUIL: "+(0,e.zw)(this.dni),1)])]),(0,l.Wm)(c,{to:"/munienlinea",class:"bn3"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Inicio ")])),_:1}),(0,l.Wm)(c,{to:"/tramites",class:"bn3"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Mis tramites ")])),_:1}),(0,l._)("input",{onClick:t[0]||(t[0]=(...a)=>n.logOf&&n.logOf(...a)),class:"bn3",type:"button",value:"Cerrar Sesion"})])]),w],64)}s(7658);var y={name:"SideBar",data(){return{ruta:this.$router.currentRoute.value.fullPath,usuario:localStorage.getItem("name"),apellido:localStorage.getItem("lastname"),dni:localStorage.getItem("cuil"),permission:!0,user_id:localStorage.getItem("id"),role:localStorage.getItem("role")}},created(){this.role=localStorage.getItem("role")},watch:{},methods:{logOf(){localStorage.clear(),location.reload(),this.$router.push("login"),window.dispatchEvent(new CustomEvent("token-localstorage-changed",{detail:{storage:localStorage.getItem("token")}}))}}},D=s(89);const S=(0,D.Z)(y,[["render",k],["__scopeId","data-v-1ba8b8ae"]]);var C=S},8138:function(a,t,s){s.r(t),s.d(t,{default:function(){return N}});var l=s(3396);const e=a=>((0,l.dD)("data-v-c0dddadc"),a=a(),(0,l.Cn)(),a),o={class:"main-container"},i={class:"menu"},n=e((()=>(0,l._)("h4",null,"Tus tramites",-1)));function c(a,t,s,e,c,r){const d=(0,l.up)("SideBar"),u=(0,l.up)("Tabla");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",i,[(0,l.Wm)(d)]),n,(0,l.Wm)(u,{color:"var(--green)"})])}var r=s(7139),d=s.p+"img/previous.f2eb8db4.svg",u=s.p+"img/next.1e590530.svg";const g=a=>((0,l.dD)("data-v-157852fd"),a=a(),(0,l.Cn)(),a),h={class:"tabla-container"},v=g((()=>(0,l._)("tr",null,[(0,l._)("th",null,"Titulo"),(0,l._)("th",null,"ID"),(0,l._)("th",null,"Ultimo movimiento"),(0,l._)("th",{class:"media"},"Asunto"),(0,l._)("th",null,"Estado")],-1))),f={class:"media"},m={class:(0,r.C_)("estado-fila")},p={class:"loader"},b={key:0,class:"spinner-grow text-secondary",role:"status"},_=g((()=>(0,l._)("span",{class:"sr-only"},null,-1))),w=[_],k={key:1,class:"spinner-grow text-secondary",role:"status"},y=g((()=>(0,l._)("span",{class:"sr-only"},null,-1))),D=[y],S={key:2,class:"spinner-grow text-secondary",role:"status"},C=g((()=>(0,l._)("span",{class:"sr-only"},null,-1))),I=[C],z={key:3},T={class:"filtro-filas"},A={class:"nav"},x={key:0,class:"pagNum"},j={key:1,class:"pagNum"},U={key:2,class:"pagNum"},q={key:0,class:"cant"};function O(a,t,s,e,o,i){return(0,l.wg)(),(0,l.iD)("div",h,[(0,l._)("table",null,[v,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.mostrados,((a,t)=>((0,l.wg)(),(0,l.iD)("tr",{class:"fila-tabla",key:t},[(0,l._)("td",null,(0,r.zw)(a.titulo.title),1),(0,l._)("td",null,(0,r.zw)(a.id),1),(0,l._)("td",null,(0,r.zw)(a.fecha),1),(0,l._)("td",f,(0,r.zw)(a.categoria),1),(0,l._)("td",m,[(0,l._)("p",{style:(0,r.j5)(`background: ${a.color}`)},(0,r.zw)(a.estado),5)])])))),128))]),(0,l._)("div",p,[1==this.loading&&""===this.msj?((0,l.wg)(),(0,l.iD)("div",b,w)):(0,l.kq)("",!0),1==this.loading&&""===this.msj?((0,l.wg)(),(0,l.iD)("div",k,D)):(0,l.kq)("",!0),1==this.loading&&""===this.msj?((0,l.wg)(),(0,l.iD)("div",S,I)):(0,l.kq)("",!0),""!==this.msj?((0,l.wg)(),(0,l.iD)("p",z,(0,r.zw)(this.msj),1)):(0,l.kq)("",!0)]),(0,l._)("div",T,[(0,l._)("div",A,[(0,l._)("img",{class:"svg",onClick:t[0]||(t[0]=(...a)=>i.backTramites&&i.backTramites(...a)),src:d,alt:""}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(this.paginas,((a,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t},[this.paginaActual<t?((0,l.wg)(),(0,l.iD)("span",x,(0,r.zw)(t+1),1)):(0,l.kq)("",!0),this.paginaActual===t?((0,l.wg)(),(0,l.iD)("span",j,[(0,l._)("b",null,(0,r.zw)(t+1),1)])):(0,l.kq)("",!0),this.paginaActual>t?((0,l.wg)(),(0,l.iD)("span",U,(0,r.zw)(t+1),1)):(0,l.kq)("",!0)])))),128)),(0,l._)("img",{onClick:t[1]||(t[1]=(...a)=>i.nextPag&&i.nextPag(...a)),class:"svg",src:u,alt:""})]),""==this.msj?((0,l.wg)(),(0,l.iD)("div",q,[(0,l._)("p",null,[(0,l.Uk)(" Cantidad total de tramites: "),(0,l._)("b",null,(0,r.zw)(this.activos.length),1)])])):(0,l.kq)("",!0)])])}s(7658);var L=s(70),P={props:{color:String},data(){return{loading:!0,msj:"",length:null,activos:[],mostrados:[],paginaActual:1,cont:0,l:0,paginas:null}},created(){const a=L.ZP.create({baseURL:"https://oficina-virtual-pablo-baron.up.railway.app/",withCredentials:!1,headers:{"auth-header":localStorage.getItem("token")}});a.get("/oficina/procedures/history/user").then((a=>{let t=a.data;console.log(t),this.l=t.length;for(let s=0;s<this.l;s++){let a={id:null,fecha:null,categoria:"",estado:"",color:"",titulo:""},l=t[s].created_at,e=new Date(l);const o=e.getDate(),i=e.getMonth()+1,n=e.getFullYear();switch(a.id=t[s].id,a.fecha=`${o}/${i}/${n}`,a.categoria=t[s].category.title,a.estado=t[s].status.status,a.titulo=t[s].procedure,a.estado){case"SOLICITADO":a.color="var(--green)";break;case"EN PROCESO":a.color="var(--red)";break;default:break}this.activos.push(a),console.log(a)}this.length=a.data.length,this.cantTramites(),this.loading=!1})).catch((a=>{console.log(a),this.msj=a.response.data.message}))},methods:{cantTramites(){this.paginas=Math.ceil(this.length/5),this.mostrados=[],console.log("paginas "+this.mostrados);for(let a=0;a<5;a++){let a=this.activos[this.cont];void 0!=a&&(this.mostrados.push(a),this.cont++)}},backTramites(){if(parseFloat(this.paginaActual)>1){this.paginaActual--,this.mostrados=[],this.cont=5*(this.paginaActual-1);for(let a=0;a<5;a++){let a=this.activos[this.cont];void 0!=a&&(this.mostrados.push(a),this.cont++)}}},select(){alert("Terminar metodo")},nextPag(){console.log("hola"),parseFloat(this.paginaActual)<parseFloat(this.paginas)?(this.paginaActual++,this.cantTramites(this.l)):console.log("No hay mas pÃ¡ginas disponibles.")}},computed:{pags(){return"a"}}},E=s(89);const M=(0,E.Z)(P,[["render",O],["__scopeId","data-v-157852fd"]]);var W=M,Z=s(7661),$={name:"TramitesView",components:{Tabla:W,SideBar:Z.Z}};const B=(0,E.Z)($,[["render",c],["__scopeId","data-v-c0dddadc"]]);var N=B},5860:function(a,t,s){a.exports=s.p+"img/close.90ff7eac.svg"}}]);
//# sourceMappingURL=905.7b115ea0.js.map